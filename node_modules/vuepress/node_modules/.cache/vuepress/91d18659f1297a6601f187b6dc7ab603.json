{"remainingRequest":"C:\\Users\\Objec\\Desktop\\LearningNote\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js??vue-loader-options!C:\\Users\\Objec\\Desktop\\LearningNote\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\Objec\\Desktop\\LearningNote\\node_modules\\vue-loader\\lib\\index.js??ref--1-1!C:\\Users\\Objec\\Desktop\\LearningNote\\node_modules\\vuepress\\lib\\webpack\\markdownLoader.js??ref--1-2!C:\\Users\\Objec\\Desktop\\LearningNote\\docs\\mysql\\operate.md?vue&type=template&id=eb4d0ea0&","dependencies":[{"path":"C:\\Users\\Objec\\Desktop\\LearningNote\\docs\\mysql\\operate.md","mtime":1559711629826},{"path":"C:\\Users\\Objec\\Desktop\\LearningNote\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1559711637495},{"path":"C:\\Users\\Objec\\Desktop\\LearningNote\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":1559711718187},{"path":"C:\\Users\\Objec\\Desktop\\LearningNote\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1559711637495},{"path":"C:\\Users\\Objec\\Desktop\\LearningNote\\node_modules\\vue-loader\\lib\\index.js","mtime":1559711718171},{"path":"C:\\Users\\Objec\\Desktop\\LearningNote\\node_modules\\vuepress\\lib\\webpack\\markdownLoader.js","mtime":1559711720027}],"contextDependencies":[],"result":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_vm._ssrNode(\"<h2 id=\\\"mysql5-7服务无法启动问题\\\"><a href=\\\"#mysql5-7服务无法启动问题\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> mysql5.7服务无法启动问题</h2> <p>以mysql 5.7.17 版本为例</p> <h3 id=\\\"解决办法一\\\"><a href=\\\"#解决办法一\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> 解决办法一</h3> <ol><li><p>进入mysql server安装的路径: cd C:\\\\Program Files\\\\MySQL\\\\MySQL Server 5.7</p></li> <li><p>如果目录下有data文件的先删除掉data文件</p></li> <li><p>清除掉原来的服务:<strong>mysqld remove</strong></p></li> <li><p>重新安装服务: <strong>mysqld -install</strong></p></li> <li><p>产生无密码的帐号: <strong>mysqld --initialize-insecure</strong></p></li> <li><p>启动服务:<strong>net start mysql</strong></p></li> <li><p>登录数据库：<strong>mysql -u root -p</strong> 直接回车不输入密码</p></li> <li><p>此时若是需要修改密码的话，可继续操作</p></li> <li><p>修改root密码：</p> <p><strong>update user set authentication_string=password('123456') where user=&quot;root&quot;;</strong></p> <p><strong>flush privileges;</strong></p></li> <li><p>退出数据库<strong>exit</strong>后重新使用新的密码登录即可</p></li></ol> <h3 id=\\\"解决办法二\\\"><a href=\\\"#解决办法二\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> 解决办法二</h3> <p>启动services.msc里的mysql服务重新启动失败，提示“本地计算机上的MySQL服务启动后停止。某些服务在未由其他服务或程序使用时将自动”，可参考如下方式：</p> <p>1.首先需要把原来的服务删除，执行如下操作:</p> <ul><li>[ ] cd C:\\\\Program Files\\\\MySQL\\\\MySQL Server 5.7</li> <li>[ ] <strong>mysqld --remove mysql</strong></li> <li>[ ] 进入bin目录</li> <li>[ ] <strong>mysqld--initialize-insecure --user=mysql</strong></li> <li>[ ] 注册服务<strong>mysqld --install mysql --defaults-file=C:\\\\Program Files\\\\MySQL\\\\MySQL Server 5.7\\\\my.ini</strong></li> <li>[ ] 启动服务:<strong>net start mysql</strong></li></ul> <h2 id=\\\"access-denied-for-user-‘root’-‘localhost’-using-password-yes-问题\\\"><a href=\\\"#access-denied-for-user-‘root’-‘localhost’-using-password-yes-问题\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> Access denied for user ‘root’@‘localhost’ (using password: YES)问题</h2> <p>输入正确用户名和密码登录失败，弹出access denied，可用跳过验证重新设置密码</p> <ol><li><p>使用管理员权限打开cmd,先看services.msc里的mysql服务是否已经关闭</p></li> <li><p>​\\t进入安装路径执行如下操作</p> <ul><li>[ ] cd C:\\\\Program Files\\\\MySQL\\\\MySQL Server 5.7\\\\bin</li> <li>[ ] ​\\tmysqld --initialize</li> <li>[ ] ​\\tmysqld --install mysql --defaults-file=C:\\\\Program Files\\\\MySQL\\\\MySQL Server 5.7\\\\my.ini</li> <li>[ ] ​\\tnet stop mysql57</li> <li>[ ] ​\\tmysqld --skip-grant-tables</li></ul></li> <li><p>​\\t另外开一个cmd窗口，执行如下操作</p> <ul><li>[ ] mysql -u root</li> <li>[ ] update user set authentication_string=password('123456') where user=&quot;root&quot;;</li> <li>[ ] flush privileges;</li> <li>[ ] ​\\t关闭该窗口</li></ul></li> <li><p>​\\t再重新启动mysql服务</p> <ul><li><p>[ ] net start mysql</p></li> <li><p>[ ] mysql -u root -p 输入之前修改的密码可正常登录</p></li> <li><p>[ ] 若是正常登录后提示“ERROR 1820 (HY000): You must reset your password using ALTER USER statement before executing this statement.”则执行alter user user() identified by &quot;123456&quot;;</p></li></ul></li></ol> <h2 id=\\\"创建用户并赋予权限\\\"><a href=\\\"#创建用户并赋予权限\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> 创建用户并赋予权限</h2> <p>首先查看各个用户的权限情况</p> <p>​\\t<strong>select user,host,grant_priv from mysql.user;</strong></p> <p>若是当前用户登录下的grant_priv为N，则需要修改权限</p> <p>​\\t<strong>update user set grant_priv='Y' where user='username';</strong></p> <p><strong>FLUSH PRIVILEGES;</strong></p> <p>再创建一个新的用户并赋予权限</p> <p>​\\t<strong>create user 'username'@'%' identified by 'username';</strong>(通配符%表示让该用户从任意远程主机登录，如果是本地用户可以用localhost替换%)</p> <p>​\\t<em><em>grant select,insert,update,delete,create on databasename.</em> to username;</em>*</p> <p>​\\t<strong>FLUSH PRIVILEGES;</strong></p> <h2 id=\\\"撤销用户权限\\\"><a href=\\\"#撤销用户权限\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> 撤销用户权限</h2> <p><em><em>revoke select,insert,update,delete,create on databasename.</em> from 'username'@'%';</em>*</p> <h2 id=\\\"备份数据库问题\\\"><a href=\\\"#备份数据库问题\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> 备份数据库问题</h2> <p>备份数据库：<strong>mysqldump -u root -p --all-databases &gt; dumpdata.sql</strong></p> <p>恢复数据库 <strong>source dumpdata.sql</strong> 或者直接把sql脚本放在workbench里执行</p> <h2 id=\\\"创建触发器\\\"><a href=\\\"#创建触发器\\\" aria-hidden=\\\"true\\\" class=\\\"header-anchor\\\">#</a> 创建触发器</h2> <p>​\\tCREATE TRIGGER trigger_name trigger_time trigger_event ON tb_name FOR EACH ROW trigger_stmt\\n​\\t\\ttrigger_name：触发器的名称\\n​\\t\\ttirgger_time：触发时机，为BEFORE或者AFTER\\n​\\t\\ttrigger_event：触发事件，为INSERT、DELETE或者UPDATE\\n​\\t\\ttb_name：表示建立触发器的表明，就是在哪张表上建立触发器\\n​\\t\\ttrigger_stmt：触发器的程序体，可以是一条SQL语句或者是用BEGIN和END包含的多条语句\\n​\\t所以可以说MySQL创建以下六种触发器：BEFORE INSERT,BEFORE DELETE,BEFORE UPDATE,AFTER INSERT,AFTER DELETE,AFTER UPDATE</p>\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"]}